docker run --gpus all -it --rm -v ${PWD}/output:/app/output -p 8000:8000 gabriel0murilo/ief:latest

minikube start --driver=docker --addons=registry --mount --mount-string="$PWD:/app"

kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml

minikube service ief-service --url

kubectl get svc

kubectl get nodes

kubectl get pods -o wide

kubectl get nodes -o=custom-columns=NAME:.metadata.name,GPU:.status.allocatable."nvidia\.com/gpu"

kubectl describe pod <nome_do_pod>
kubectl logs <nome_do_pod>
kubectl get pods -o wide
kubectl get pods -w
kubectl describe deployment ief-deployment


kubectl delete pods --all
kubectl delete deployment ief-deployment

minikube ssh

kubectl port-forward service/ief-service 30000:8000

kubectl rollout restart deployment ief-deployment
